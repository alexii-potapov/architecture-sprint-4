# Задание 1. Анализ, идентификация проблем и решений, планирование

## Существующие и потенциальные проблемные места

1) Отсутсвует резервирование данных
2) Не ясно как MES система узнает о появлении нового заказа. Если предположить что по наличию новых файлов в хранилище  то при большом числе заказов это будет давать сбои и потери заказов.
3) Отсутсвие резервирования API сервисов.
4) Сервис CRM не является автономным и связан с клиентской базой. Нарушение паттерна Database Per Service осложнит  модификации в сервисе
5) Отсутсвует автоматическое регрессионое тестирование
6) Отсутвует автоматический деплой release
7) Отсутсвует кэширование на запрос статуса заказа
8) Кадровая проблема на случай отпуска или больничных
9) Отсутсвует возможность горизонтального масштабирования
10) Отсутсвуют средства сбора и визуадизации метрик работы сервисов. Мы не знаем текущую загрузку и как с неё справляется сервисы. Выявить слабое звено тоже не предоставляется возможным
11) Отсутсвуют средства сбора и работы с логами сервисов

## Инициативы, которые необходимы для устранения нежелательных ситуаций

1) Создание и настройка репликации каждой базы данных PostgreSQL
2) При создании заказа (Submitted) посылать сообщение в RabbitMQ для информирования MES о новом заказе для Просчёта
3) Создать дублирующие API сервисы. Добавить API Gateway для работы с ними.
4) Создать БД для сервиса CRM где будут хранится данные нужные для Seller и обособить их от БД Заказчиков.
5) Нанять опытного автоматизатора на пол ставки для создания фреймворка тестирования
или оплатить курсу  QA автоматизатора для имющегося тестировщика и для дальнейшего написания им автотестов
6) Разобраться в схеме текущего деплоя с целью его оптимизации и настройки деплоя не другие среды при наличии автотестов
7) Создать заявку в кадровом службе на поиск специалистов уровня Midle
8) Разработать схему внедрения логирования и сбора метрик
9) Продумать архитектуру горизонтального масштабирования сервисов

## Инициативы в порядке приоритета

1) Первостепенной является сохранность данных, отсюда нужно обеспечить резервирование. Базы данных требуется задублирповать и настроить реплецирование.
2) Добавление центрлизованного логирования и сбора метрик со всех сервисов
3) Поиск дополнительных специалистов (C#, DevOps, QA) позволить снизить риски даже при уходе в отпуск или больничного единственного сотрудника.
4) Что бы обезопасится на случаи сбоя в сервисах, требуется также задуюлировать API сервисы и настроить мониторинг работы.
5) Разделение работы системы по назначению даст фокус команде и независимость в разработке.  Customers, Sellers, MES.
Взаимодействие между ними и обновление статусов будет произходить посредством имюещегося RabbitMQ
6) В перспективе нагрузка даже в 3000 заказов в месяц является не большой и не требует масштабирования в далёкой перспективе
Приблизительные расчёты таковы 150 заказов в день и до 5 запросов в секунду на проверку статуса.

Первые три пункта из перечисленных ранее  являются первоочередными
